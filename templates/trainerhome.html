<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home</title>
  <link rel="stylesheet" href="/static/css/aos.css">
  <link rel="stylesheet" href="/static/css/main.css">
  <link rel="stylesheet" href="/static/css/fontawesome-all.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500;1,700&display=swap">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.4.0/mdb.min.css" rel="stylesheet" />
</head>

<body>


  <div class="main" id="home">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="alert alert-{{ category }} alert-dismissible fade show"
      style="display: flex; justify-content: space-between;" role="alert">

      {{ message }} <span style="cursor: pointer;" data-mdb-dismiss="alert" aria-label="Close">X</span>
    </div>

    {% endfor %}

    {% endif %}
    {% endwith %}
    <!-- Header -->
    <header>


      <!-- Navbar -->
      <div class="row">
        <!-- Navigation -->
        <div class="navigation">
          <div class="logo">
            <!-- Logo -->
            <a href="/" class="logolink">
              <p style="font-family: cursive;">Victory Gym</p>
            </a>
          </div>
          <!-- End of logo -->
          <div class="burger">
            <div class="one"></div>
            <div class="two"></div>
            <div class="three"></div>
          </div>
          <!--End of Burger menu -->
          <ul class="navlist">
            <li><a href="/trainer/{{trainer.user_id}}">Home</a></li>
            <li><a href="/trainer/{{trainer.user_id}}#trainer">Members</a></li>
            <li class="dropdown"><a class="dropbtn" href="/trainer/{{trainer.user_id}}#pexercises">Exercises</a>
              <div class="contentm">
                <p></p>
                <p><a href="/trainer/{{trainer.user_id}}/freeworkout" style="color: black;"><i class="fas fa-user"></i>
                    Free workouts </a></p>
                <p><a href="/trainer/{{trainer.user_id}}/premiumworkout" style="color: black;"><i
                      class="fas fa-user"></i> Premium workouts
                  </a>
                </p>

                <!-- <p>Don't have an account yet? <br> <a style="font-size: 12px; color: rgb(35, 171, 225);" href="/signup">Signup here</a></p> -->
              </div>
            </li>
            <li><a href="/trainer/{{trainer.user_id}}/diet">Diet</a></li>
            <li><a href="/trainer/{{trainer.user_id}}/schedule"><i class="fa-solid fa-calendar-days"></i></a></li>

            <li class="dropdown">
              <div class="profile"><a class="dropbtn" href="" style="color: black ;">
                  <p>{{trainer.firstname}} {%if trainer.profile_image != "none"%}
                    <img src="{{url_for('static', filename='uploads/'+ trainer.profile_image)}}" alt=""
                      class="profile_img">
                    {%else%}
                    <img src="/static/assets/7.png" alt="" class="profile_img">
                    {%endif%}
                  </p>
                </a>
              </div>
              <div class="contentm">
                <p></p>
                <p> Hello {{trainer.firstname}} </p>
                <p><a href="/trainer/{{trainer.user_id}}/profile" style="color: black;"><i class="fas fa-user"></i> My
                    profile </a></p>
                <button><a href="/logout">Logout</a></button>
                <!-- <p>Don't have an account yet? <br> <a style="font-size: 12px; color: rgb(35, 171, 225);" href="/signup">Signup here</a></p> -->
              </div>
            </li>
          </ul>
          <!-- End of navlist -->
        </div>
        <!-- End of navigation -->

      </div>
      <!-- Navbar -->

      <!-- Carousel wrapper -->
      <div id="introCarousel" class="carousel slide carousel-fade shadow-2-strong" data-mdb-ride="carousel">
        <style>
          /* Carousel styling */
          #introCarousel,
          .carousel-inner,
          .carousel-item,
          .carousel-item.active {
            height: 100vh;
          }

          #introCarousel .carousel-item:nth-child(1) {
            background-image: url("/static/assets/31.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;
          }

          #introCarousel .carousel-item:nth-child(2) {
            background-image: url("/static/assets/22.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;
          }

          #introCarousel .carousel-item:nth-child(3) {
            background-image: url("/static/assets/29.jpg");
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;
          }

          /* Height for devices larger than 576px */
          @media (min-width: 992px) {
            #introCarousel {
              margin-top: -58.59px;
            }
          }

          .navbar .nav-link {
            color: #fff !important;
          }
        </style>
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-mdb-target="#introCarousel" data-mdb-slide-to="0" class="active"></li>
          <li data-mdb-target="#introCarousel" data-mdb-slide-to="1"></li>
          <li data-mdb-target="#introCarousel" data-mdb-slide-to="2"></li>
        </ol>

        <!-- Inner -->
        <div class="carousel-inner">
          <!-- Single item -->
          <div class="carousel-item active">
            <div class="mask" style="background-color: rgba(0, 0, 0, 0.6);">
              <div class="d-flex justify-content-center align-items-center h-100">
                <div class="text-white text-center">
                  <h1 class="mb-3">Be the best Trainer</h1>
                  <h5 class="mb-4">Help others grow</h5>
                  <a class="btn btn-outline-light btn-lg m-2" href="/trainer/{{trainer.user_id}}/premiumworkout"
                    role="button" rel="nofollow">Upload Exercise</a>
                  <a class="btn btn-outline-light btn-lg m-2" href="/trainer/{{trainer.user_id}}/diet"
                    role="button">Upload Diet</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Single item -->
          <div class="carousel-item">
            <div class="mask" style="background-color: rgba(0, 0, 0, 0.6);">
              <div class="d-flex justify-content-center align-items-center h-100">
                <div class="text-white text-center">
                  <h2>Plan a training session</h2>
                  <a class="btn btn-outline-light btn-lg m-2" href="/trainer/{{trainer.user_id}}/schedule"
                    role="button">Create Schedule</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Single item -->
          <div class="carousel-item">
            <div class="mask" style="
          background-color:rgba(0, 0, 0, 0.6);
        ">
              <div class="d-flex justify-content-center align-items-center h-100">
                <div class="text-white text-center">
                  <h2>View your trainees</h2>
                  <a class="btn btn-outline-light btn-lg m-2" href="/trainer/{{trainer.user_id}}/members/view"
                    role="button">View members</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Inner -->

        <!-- Controls -->
        <a class="carousel-control-prev" href="#introCarousel" role="button" data-mdb-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#introCarousel" role="button" data-mdb-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <!-- Carousel wrapper -->
    </header>

    <!-- End of slideshow -->
  </div>
  <!-- End of main -->

  <!-- About section -->

  <div class="about" id="trainer" data-aos="fade-in">
    <div class="aboutus">
      <center>
        <p> <span>Members</span></p>
      </center> <a href="/trainer/{{trainer.user_id}}/members/view" class="view">view all -></a>
    </div>




    <div class="table-responsive">
      <table class="table align-middle mb-0 bg-white">
        <thead class="bg-light">
          <tr>
            <th>Name</th>
            <th>Gender</th>
            <th>Age</th>
            <th>Actions</th>
          </tr>
        </thead>
        {%for member in members %}
        <tbody>
          {% for mem in member%}
          <tr>

            <td>
              <div class="d-flex align-items-center">
                {% if mem.profile_image != 'none' %}
                <img src="{{url_for('static', filename = 'uploads/' + mem.profile_image)}}" alt=""
                  style="width: 45px; height: 45px" class="rounded-circle" />
                {% else %}
                <img src="/static/assets/7.png" alt="" style="width: 45px; height: 45px" class="rounded-circle" />
                {% endif %}
                <div class="ms-3">
                  <p class="fw-bold mb-1">{{mem.firstname}} {{mem.lastname}}</p>
                  <p class="text-muted mb-0">{{mem.email}}</p>
                </div>
              </div>
            </td>
            <td>
              <p class="fw-normal mb-1">{{mem.gender}}</p>
            </td>

            <td>{{mem.age}}</td>
            <td>
              <button href="" type="button" class="btn btn-link btn-sm btn-rounded"><a
                  href="/trainer/{{trainer.user_id}}/member/{{mem.user_id}}/view">
                  View Profile</a>
              </button>
            </td>
          </tr>
          {%endfor%}
        </tbody>{%endfor%}
      </table>
    </div>

  </div> <!-- End of about section -->

  <!-- Training -->
  <div class="training" id="pexercises">
    <h3>Exercise</h3>
    <div id="carouselMultiItemExample" class="carousel slide carousel-dark text-center" data-mdb-ride="carousel">
      <div class="d-flex justify-content-center mb-4">

        <button class="carousel-control-prev position-relative but" type="button"
          data-mdb-target="#carouselMultiItemExample" data-mdb-slide="prev"
          hx-get="{{url_for('trainer',  id = trainer.user_id)}}" hx-target="#target" hx-swap="innerHTML swap:0.8s">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>



        <button class="carousel-control-next position-relative but" type="button"
          data-mdb-target="#carouselMultiItemExample" data-mdb-slide="next"
          hx-get="{{url_for('free_train_home', id=trainer.user_id)}}" hx-target="#target" hx-swap="innerHTML swap:0.8s">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>



      </div>




      <div class="carousel-inner py-4">

        <div class="carousel-item active">


          {%include 'premium.html'%}


        </div>
      </div>



      {%for tr in frees%}
      <div class="modal fade" id="f{{tr.exercise_thumbnail}}" tabindex="-1" aria-labelledby="exampleModal1Label"
        aria-hidden="true">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
            <div class="ratio ratio-16x9">
              {%if tr.exercise_file != 'N/A'%}
              <video controls>
                <source src="{{url_for('static', filename = 'uploads/' + tr.exercise_file)}}" type="video/mp4">
              </video>
              {%else%}
              <iframe src="https://www.youtube.com/embed/{{tr.exercise_link}}" title="YouTube video"
                allowfullscreen></iframe>
              {%endif%}
            </div>

            <div class="text-center py-3">
              <center>
                <p>
                  {%if tr.exercise_name != 'None'%}
                  <b style="font-size: 20px;">{{tr.exercise_name}}</b><br>
                  {%endif%}
                  {%if tr.exercise_description != 'None'%}
                  <span style="font-weight: 100; margin:auto;">{{tr.exercise_description}}</span><br>
                  {%endif%}

                  <i style="font-size: 10px;">by {{tr.firstname}} {{tr.lastname}} to {{tr.mfirst}} {{tr.mlast}} on
                    {{tr.date_added}}</i>

                </p>

              </center>
              <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">
                Close
              </button>
            </div>
          </div>
        </div>
      </div>
      {%endfor%}

    </div>

  </div>

  <div class="dtraining" id="pdiet">

    <h3>Diet</h3>
    <div class="container" id="target2">
      {%include 'diettrainhome.html'%}

    </div>


    {% for ti in modal %}

    <div class="modal fade" id="d{{ti.diet_id}}" data-mdb-backdrop="static" data-mdb-keyboard="false" tabindex="-1"
      aria-labelledby="staticBackdropLabel" aria-hidden="true">

      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content" id="diet_modal">
          <div class="modal-header">
            <div class="modal-title" id="staticBackdropLabel">
              {% if ti.start_date > today %}<i style="margin-left: 3px;"
                class="fas fa-clock-rotate-left completedv"></i>
              {%endif%}
              {% if ti.end_date < today %}<i style="margin-left: 3px;" class="fa-regular fa-square-check completed">
                </i>
                {%endif%}
                {% if (ti.start_date <= today) and (ti.end_date> today) %}<i style="margin-left: 3px;"
                    class="fas fa-spinner completedp"></i>
                  {%endif%}
                  <b><span style="font-size: 25px; font-weight: 500;">{{ti.diet_name}}</span></b>
                  <br>
                  <i style="font-size: 10px; font-weight:50;">valid from {{ti.start_date}} to {{ti.end_date}}</i>
            </div>


            <button type="button" class="btn-close" data-mdb-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">

            <img class="normal" src="{{url_for('static', filename = 'uploads/' + ti.diet_file)}}"
              onclick="openf(this.src)" alt="">

            <div>
              {{ti.diet_description|safe}}</div>
          </div>
          <div class="modal-footer">
            <i style="font-size: 10px; font-weight:50; margin-right: 80px;">By {{ti.firstname}} {{ti.lastname}} to
              {{ti.mfirst}} {{ti.mlast}} on {{ti.date_added}}</i>
            <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">Close</button>
            <a href="/trainer/{{trainer.user_id}}/diet/{{ti.diet_id}}/delete" onclick="return confirm('Are you sure?')">
              <button type="button" class="btn btn-danger">
                <i class="fas fa-trash"></i>
              </button></a>
            <button type="button" class="btn btn-primary">Edit <i class="fas fa-pen"></i></button>
            <br>
            <span style="font-size: 8px; font-weight:100;">! Edit can only be done on diet page </span>
          </div>
        </div>
      </div>
    </div>
    <span onclick="closef()">
      <div class="full" id="fullbox">
        <img src="" alt="" id="fullimg">

      </div>
    </span>
    {%endfor%}



  </div>
  <!-- Contact us -->
  <div class="contact" id="contact">
    <div style="background: rgba(0, 0, 0, 0.5); width: 100%; height: 400px; z-index: 1; display: flex;">
      <div style="width: 800px; height: 400px; margin: 0 25%;">
        <div class="text-white text-center" id="vidcont" data-aos="fade-up">

          <h5 class="mb-4">Contact Us</h5>
          Featured on Forbes as one of the worlds top ten companies for fitness, VictoryGym has helped
          well over a hundred thousand men and women across the globe get and stay fit. Start your journey
          today.
          <br>
          <center>
            <a class="btn btn-outline-light btn-lg m-2" href="/signup" role="button" rel="nofollow"
              target="_blank">Contact Us -></a>
            <a class="btn btn-outline-light btn-lg m-2" href="/login" target="_blank" role="button">FAQs
              -></a>
          </center>
        </div>
      </div>
    </div>
  </div> <!-- End of contact us section -->
  </div>



  </div>
  <footer class="footer" data-aos="fade-in">
    <div>
      <a href="/">
        <a href="/">
          <p> Victory Gym </p>
        </a> </a>


    </div>
    <div>
      <a href="#"><i class="fab fa-facebook-square"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-linkedin"></i></a>
      <a href="#"><i class="fab fa-dribbble"></i></a>
    </div>
    <p class="footer-c">Victory Gym © 2022</p>
  </footer>

  <!-- <script src="/static/js/easy_background.js"></script>

  <script>
    easy_background(".main",

      {
        slide: ["/static/assets/31.jpg", "/static/assets/22.jpg", "/static/assets/29.jpg", "/static/assets/25.png"],

        delay: [2000, 2000, 2000, 2000]
      }


    );
  </script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- MDB -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.4.0/mdb.min.js"></script>
  <script src="/static/js/aos.js"></script>
  <script src="/static/js/app.js"></script>
  <script src="https://unpkg.com/htmx.org@1.8.0"
    integrity="sha384-cZuAZ+ZbwkNRnrKi05G/fjBX+azI9DNOkNYysZ0I/X5ZFgsmMiBXgDZof30F5ofc"
    crossorigin="anonymous"></script>

</body>

</html>